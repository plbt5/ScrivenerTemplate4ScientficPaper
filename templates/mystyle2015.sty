\ProvidesPackage{mystyle2015}[2014/06/04 package mystyle2015]	% Adapted from ecis2015 package ECIS 2015 Proceedings Template.
\RequirePackage[utf8]{inputenc}		% NOT required when using xetex as opposed to pdftex
\RequirePackage[T1]{fontenc}
\RequirePackage[english]{babel}
\RequirePackage{csquotes}
\RequirePackage{mathptmx}
\RequirePackage{helvet}
\RequirePackage{graphicx}
\RequirePackage[hyphens]{url}
\RequirePackage{tikz}
\RequirePackage{float}
\RequirePackage{bigstrut}
\RequirePackage{enumitem}
\RequirePackage{xcolor}

\RequirePackage{amsmath}				% <amsthm> conflicts with <ntheorem> package (section 3.2.2 ftp://ftp.dante.de/pub/tex/macros/latex/contrib/ntheorem/ntheorem.pdf); 
                                        % Instead, the [amsthm] option is used with <ntheorem> 

%%%\RequirePackage{pdflscape} %% For use of \begin{landscape}
\RequirePackage[%
backend=biber,% ← change to old BibTeX here if you really need it
style=authoryear-comp,natbib=true,maxnames=2,firstinits=true]{biblatex}
%\usetikzlibrary{shapes,arrows}
\RequirePackage[protrusion,expansion]{microtype}
\RequirePackage[pdftex,pdfborder={0 0 0}]{hyperref}
 
%%%%%%%%%%%
% My Configs
%%%%%%%%%%%

% Because of the inclusion of a {width=#} statement in the mmd file for each image, 
% the fallback option below to set the width of graphics to the textwidth, is not necessary anymore.
%
%\let\oldincludegraphics\includegraphics
%\renewcommand{\includegraphics}[1]{\oldincludegraphics[width=\textwidth]{#1}}
%
% However, the keepaspectratio apparently is default set to false, resulting in vertically stretched images. This statement sets it to true 
% See also the CTAN documentation for graphicx, section 4.6 "Global setting of keys"
\setkeys{Gin}{keepaspectratio=true}

%%%%%%%
% Modal logic operators

%\DeclareUnicodeCharacter{25C7}{\wdiamant}		% White diamond, "it is possible that"
%\DeclareUnicodeCharacter{25FB}{\wvierkant}		% White square, "it is necessarily so that"
 
\catcode`\^^c7=\active
\catcode`\^^fb=\active
\let^^c7=\wdiamant								% White diamond, "it is possible that"
\let^^fb=\wvierkant								% White square, "it is necessarily so that"

% In order to make lplfith package to work, I had to include this. Otherwise a "memoir: font command \sf is not supported" error emerged
%\DeclareOldFontCommand{\sf}{\normalfont\sffamily}{\mathsf}   
%\DeclareOldFontCommand{\bf}{\normalfont\bfseries}{\mathbf}
 
%%%%%%
%% Creation of special characters. Method is by superimposing two other characters, see: http://tex.stackexchange.com/questions/148051/how-do-you-make-a-square-element-symbol-in-to-show-that-an-element-belongs-t
% First, create a normalisation macro to ensure no math (i.e., $) is present in a variable; in this case it is substituted by \MyNormi that throws away the two $, otherwise it does nothing.
\makeatletter
\def\MyNorm{\@ifnextchar$\MyNormi{}}
\def\MyNormi$#1${#1}
\makeatother
 
% Second, create its reverse to ensure math mode
\newcommand*{\MyMath}[1]{%
  \ifmmode{#1}\else{\ensuremath{#1}}\fi%
}
 
\usepackage{stackengine}
\def\eqdef{\mathrel{\ensurestackMath{\stackon[1pt]{=}{\scriptscriptstyle\Delta}}}}
% Abbrev: Reflexive-transitive closure
\def\tort{%
  \twoheadrightarrow%
}
% Abbrev: symmetric closure
\def\lra{%
  \leftrightarrow%
}
 
% Interpretation: A consistent character for the Interpretation function I
\def\intn{%
  \CMcal{I}%
}
 
% Subjectivation: A consistent typesetting for the Subjectivation function I
\def\sbjn{%
  \intl{I}%
}
 
% Intentional: A consistent typesetting for denoting intentional concepts
\def\intl#1{%
 \mathfrak{#1}%
}
 
% Ontology: A consistent typesetting for denoting an ontology
\def\ont#1{%
 \EuScript{#1}%
}
 
% Representation: A consistent typesetting for denoting tokens
\def\token#1{%
 \texttt{#1}%
}

% Representation: A consistent typesetting for denoting concepts
\def\concept#1{%
 \textbf{#1}%
}

% Disjoint, simply the \bottom character:
\def\disj{%
 \bot%
}
% Overlap, simply the \between character:
\def\overlap{%
 \between%
}
 
% Context: A consistent typesetting for denoting transcription context
\def\ctx{%
 \MyMath{\chi}%
}
 
% TRS context hole: reusing the modal logic operatorname
\def\hole{%
 \wvierkant%
}
 
% Math operators
\DeclareMathOperator{\dom}{dom}
\DeclareMathOperator{\rng}{rng}
\DeclareMathOperator{\sub}{\CMcal{S}ub}
\DeclareMathOperator{\pos}{\CMcal{P}os}
\DeclareMathOperator{\var}{\CMcal{V}ar}
 
% Define the square element-of character, as a superimpose of \sqsubset and - . See: http://tex.stackexchange.com/questions/148051/how-do-you-make-a-square-element-symbol-in-to-show-that-an-element-belongs-t
% Square element-of (\sqin) character, as a superimpose of \sqsubset and - .
\newcommand{\sqin}{%
  \mathrel{\vphantom{\sqsubset}\text{%
    \mathsurround=0pt
    \ooalign{{\small\raisebox{0.1ex}{$\sqsubset$}}\cr--\cr}%
  }}%
}
 
% Square contains (\sqni) character, as a superimpose of \sqsupset and - .
\newcommand{\sqni}{%
  \mathrel{\vphantom{\sqsupset}\text{%
    \mathsurround=0pt
    \ooalign{{\small\raisebox{0.1ex}{$\sqsupset$}}\cr\hfill--\cr}%
  }}%
}
 
% Apartness-relation character, as a superimpose of = and twice /. See https://en.wikipedia.org/wiki/Apartness_relation
\newcommand{\apart}{%
%  \mathrel{\vphantom{=}\text{%
%    \mathsurround=0pt
%    \ooalign{$=$\cr$\,\parallel$\cr}%
%  }}%
    \#
}
 
% Square not subset (\nsqsubset) character, as a superimpose of \sqsubset and / .
\newcommand{\nsqsubset}{%
  \mathrel{\vphantom{\sqsubset}\text{%
    \mathsurround=0pt
    \ooalign{$\sqsubset$\cr$/$\cr}%
  }}%
}
 
% Disjoint & complete (\disjointcompl, or, \displete) character, as a superimpose of \bot and = .
\newcommand{\disjointcompl}{%
  \mathrel{\vphantom{=}\text{%
    \mathsurround=0pt%
    \ooalign{$\bot$\cr\raisebox{-0.89ex}{$=$}\cr}%
%    \ooalign{$\bot$\cr{\small\raisebox{0.1ex}{c}}\cr}%
  }}%
}
\def\displete{%
 \disjointcompl%
}
 
% Not disjoint (\ndisjoint) character, as a superimpose of \bot and / .
\newcommand{\ndisjoint}{%
  \mathrel{\vphantom{\bot}\text{%
    \mathsurround=0pt%
    \ooalign{$\bot$\cr\hidewidth$/$\hidewidth\cr}%
  }}%
}
% Disjoint & incomplete (\disjoinc) character, as a superimpose of \disjointcompl and a small / .
\newcommand{\disjoinc}{%
  \mathrel{\vphantom{=}\text{%
    \mathsurround=0pt%
%    \ooalign{$\mid$\cr$\neq$\cr}%
    \ooalign{$\disjointcompl$\cr\hidewidth{\tiny\raisebox{-0.9ex}{$\diagup$}}\hidewidth\cr}%
  }}%
}
 
% Overlap & complete (\overlete) character, as a superimpose of \overlap and = .
\newcommand{\overlete}{%
  \mathrel{\vphantom{=}{%
    \mathsurround=0pt%
%   \raisebox{-0.9ex}{\ensurestackMath{\stackon[0.1pt]{=}{\small\overlap}}}
    \raisebox{-0.9ex}{\ensurestackMath{\stackon[0.1pt]{=}{\scalebox{.7}{$\overlap$}}}}
%    \ooalign{\hidewidth\small\raisebox{0.1ex}{$\overlap$}\hidewidth\cr\raisebox{-0.89ex}{$=$}\cr}%
%    \ooalign{$\bot$\cr{\small\raisebox{0.1ex}{c}}\cr}%
  }}%
}
 
% Overlap & incomplete (\overlinc) character, as a superimpose of \overlete and a small / .
\newcommand{\overlinc}{%
  \mathrel{\vphantom{overlete}\text{%
    \mathsurround=0pt%
%    \ooalign{$\mid$\cr$\neq$\cr}%
    \ooalign{$\overlete$\cr\hidewidth{\tiny\raisebox{-0.9ex}{$\diagup$}}\hidewidth\cr}%
  }}%
}
 
% valid transcription under x, x as its variable
\newcommand*\vldtranscript[1]{% 
  \mathrel{\vphantom{\longmapsto}\text{%
    \mathsurround=0pt%
    \ooalign{\raisebox{-0.5ex}{$\longmapsto$}\cr\hidewidth\raisebox{0.8ex}{\scriptsize{\MyMath{#1}}}\hidewidth\cr}%
    }
  }%
}
 
% Term Rewriting symbols: A consistent typesetting
\newcommand{\trsrtc}{\ensuremath{\twoheadrightarrow}}               % reflective-transitive closure relation: ->>
\def\unf#1{%                                                        % Unique normal form
 \MyMath{#1\downarrow}%
}
 
% Custom handy macros
\newcommand{\tuple}[1]{\ensuremath{ \langle \, #1 \, \rangle }}     % Encloses arguments by pair of auto-sized angles
\newcommand{\pair}[1]{\ensuremath{ \left( \, #1 \, \right) }}       % Encloses arguments by pair of auto-sized parenthesis
\newcommand{\set}[1]{\ensuremath{ \left\{ \, #1 \, \right\} }}      % Encloses arguments by pair of auto-sized curly braces
\newcommand{\rmk}[1]{\textsuperscript{\ref{rmk:#1} }}               % Creates a superscript reference to a custom \label{rmk:<argument>}
 
% Raised Rule Command:
%  Arg 1 (Optional) - How high to raise the rule
%  Arg 2            - Thickness of the rule
\newcommand{\raisedrule}[2][0em]{\leaders\hbox{\rule[#1]{1pt}{#2}}\hfill}
% Phantom semantics (\myPh) character, mimicing uppercase Ħ as a superimpose of H and \raisedrule .
\def\myPh{{%
    \setbox0\hbox{\textsf{\textup{H}}}%
    \rlap{\hbox to \wd0{\raisedrule[1.3ex]{0.5pt}}}\box0%
}}{\space}
 
%%%%%%%
 
 

% Define a long dash as bullit in list environments
%\def\labelitemi{--}

%%%%%

\setlength{\parindent}{0em}
\setlength{\parskip}{1em}

% Defining configuration for the mdframed package 
\RequirePackage{mdframed}

\newmdenv[%
    backgroundcolor=blue!10,
    linecolor=blue,
    outerlinewidth=1pt,
    roundcorner=1mm,	% Works only with framemethod=TikZ or PSTricks
    skipabove=\baselineskip,
    skipbelow=\baselineskip,
	leftmargin=10mm,
	rightmargin=10mm,
    font=\small
	]{sidebox}
\definecolor{skyblue}{rgb}{246,246,246}

%%%%%%%%%%%

\setstocksize{297mm}{210mm}
\settrimmedsize{297mm}{210mm}{*}
\settypeblocksize{237mm}{160mm}{*}
\setlrmargins{30mm}{*}{*}
\setulmargins{30mm}{*}{*}
\setlength{\headsep}{13mm}
\setlength{\footskip}{14mm}
\checkandfixthelayout

\frenchspacing
\flushbottom
\setlength{\parindent}{0pt}
\footmarkstyle{\textsuperscript{#1}\kern.4em}
\setlength{\footmarkwidth}{0pt}
\setlength{\footmarksep}{-\footmarkwidth}

\makepagestyle{ecis}
\makeoddhead{ecis}{\itshape\footnotesize\ECISshortauthors{}\,/\,\ECISshorttitle}{}{}
\makeevenhead{ecis}{\itshape\footnotesize\ECISshortauthors{}\,/\,\ECISshorttitle}{}{}
\makeoddfoot{ecis}{\thepage}{}{}
\makeevenfoot{ecis}{\itshape\footnotesize version: \ECISversion{}}{}{\thepage}

\makepagestyle{ecistitle}
\copypagestyle{ecistitle}{ecis}
\makeoddhead{ecistitle}{}{}{}
\makeevenhead{ecistitle}{}{}{}

\renewcommand*{\chaptitlefont}{\fontsize{14}{14}\selectfont\bfseries\sffamily}
\renewcommand*{\chapnumfont}{\chaptitlefont}

\setcounter{secnumdepth}{3}
\setsecheadstyle{\fontsize{12}{12}\selectfont\bfseries\sffamily}
\setsubsecheadstyle{\fontsize{11}{11}\sffamily}

%%%%%%%%%%%%
% My Scrivener specific tags
%%%%%%%%%%%%

\newcommand{\scrivForceNL}{~\\\newline}

\newenvironment{synopsis}{%
\par
\noindent
\fontfamily{qcr}\small\selectfont
\textbf{Synopsis: }
\noindent}
{}
\newenvironment{notes}{%
\par
\noindent
\fontfamily{qcr}\small\selectfont
\textbf{Note: }
\noindent}
{}


%%%%%%%%%%%

\newcommand{\ECISversion}{}
\newcommand{\ECISmaintitle}{}
\newcommand{\ECISsubtitle}{}
\newcommand{\ECISshorttitle}{}
\newcommand{\ECIScategory}{}
\newcommand{\ECISauthors}{}
\newcommand{\ECISshortauthors}{}
\newcommand{\versionmgt}[1]{\renewcommand{\ECISversion}{#1}}
\newcommand{\maintitle}[1]{\renewcommand{\ECISmaintitle}{#1}}
\newcommand{\subtitle}[1]{\renewcommand{\ECISsubtitle}{#1}}
\newcommand{\shorttitle}[1]{\renewcommand{\ECISshorttitle}{#1}}
\newcommand{\category}[1]{\renewcommand{\ECIScategory}{#1}}
\newcommand{\authors}[1]{\renewcommand{\ECISauthors}{#1}}
\newcommand{\shortauthors}[1]{\renewcommand{\ECISshortauthors}{#1}}
\newcommand{\ECIStitle}{%
  \begin{center}
    {\fontsize{17}{20}\selectfont\bfseries\MakeUppercase{\textls[30]{\ECISmaintitle}}}\par\vspace{1.5\baselineskip}%
    {\fontsize{17}{20}\selectfont\bfseries\textls[25]{\ECISsubtitle}}\par\vspace{1.5\baselineskip}%
    {\itshape\ECIScategory}\par\vspace{1\baselineskip}%
    {\ECISversion}\par\vspace{1\baselineskip}%
  \end{center}
  \vspace{1\baselineskip}%
  \begin{hangparas}{1em}{1}\parskip=.5\baselineskip\fontsize{12}{12}\selectfont\ECISauthors\end{hangparas}\par
  \vspace{2\baselineskip}  
}
\renewcommand{\abstractnamefont}{\fontsize{14}{14}\selectfont\bfseries\sffamily}
\renewcommand{\abstracttextfont}{\itshape}
\renewcommand{\absnamepos}{flushleft}
\setlength{\absleftindent}{0pt}
\setlength{\absrightindent}{0pt}
\setlength{\absparindent}{0pt}

\newenvironment{keywords}{\vspace{.5\baselineskip}\itshape Keywords:\space }{\par\vspace{\baselineskip}}
%\newenvironment{references}{\begin{hangparas}{\bibhang}{1}}{\end{hangparas}}

\hangcaption
\captiondelim{.\quad}
\captionstyle[\raggedright]{\raggedright}
\captionnamefont{\itshape}
\captiontitlefont{\itshape}

\newcommand{\ECISfigureexample}{%
  \begin{tikzpicture}[thick,ellipse,text width=2.5cm,text centered,>=stealth']
    \path (0,0) node[draw] (a) {independent\\variable} 
     --   (6,0) node[draw] (b) {dependent\\variable};
    \draw[->] (a) -- (b);
  \end{tikzpicture}
}

\firmlists
\setlist[itemize]{leftmargin=1.5em,labelwidth=0em,labelsep=.5em,itemindent=0pt}
\setlist[itemize,2]{leftmargin=1.2em,labelwidth=0em,labelsep=.5em,itemindent=0pt}
\setlist[enumerate]{leftmargin=1.5em,labelwidth=0em,labelsep=.3em,itemindent=0pt}
\setlist[enumerate,2]{leftmargin=1.2em,labelwidth=0em,labelsep=.3em,itemindent=0pt}
\renewcommand{\labelitemi}{$\bullet$}
\renewcommand{\labelitemii}{$\circ$}



\DeclareFieldFormat[article]{pages}{#1}



\AtBeginDocument{\ECIStitle\pagestyle{ecis}\thispagestyle{ecistitle}}
